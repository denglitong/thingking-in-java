# 代码校验

> 你永远不能保证你的代码是正确的，你只能证明它是错的。

> 如果没有测试过，它就是不能工作的。

> 代码覆盖工具的最佳用途是发现代码库中微测试的部分，  
但是，不要依赖覆盖率来得到测试质量的任何信息  

> 契约式设计(Dbc)：通过确保对象遵循某些规则来帮助创建健壮的程序  
这些规则是由正在解决的问题的性质决定的，这超出了编译器可以验证的范围。  
Dbc假定服务提供商与该服务的消费者或客户之间存在明确约定的契约。  
在面向对象编程中，服务通常由对象提供，对象的边界 - 供应商和消费者之间的划分 - 是对象的接口  
当客户端调用特定的公共方法时，他们希望调用具有特定的行为：对象改变转变，以及一个可预测的返回值

> 1.应该明确指定行为，就好像它是一个契约一样  
> 2.通过实现某些运行时检查来保证这种行为，这些检查为前置条件、后置条件和不变项  
如果无法指定约束，则可能对要构造的内容了解得不够。  

> 前置条件  
前置条件确保客户端（调用此方法的代码）履行其部分契约。  
这意味着在方法调用开始时几乎总是会检查参数，以此确保他们的调用在方法中是合适的。  
因为你永远无法知道客户端会传递给你什么，前置条件是确保检查的一个好做法。

> 后置条件  
后置条件测试你在方法中所做的操作的结果。这段代码放在方法调用的末尾，在return语句之前（如果有的话）。  
对于长时间、复杂的方法，在返回计算结果之前需要对计算结果进行验证  
（也就是说，在某些情况下，由于某种原因，你不能总是相信结果）  
后置条件很重要，但是任何时间你可以描述方法结果上的约束时，最好将这些约束在代码中表示未后置条件

> 不变性  
不变性保证了必须在方法调用之间维护的对象的状态：  
1.在进入该方法时  
2.在离开方法之前    